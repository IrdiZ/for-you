<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>For You ğŸ’•</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;600&display=swap');

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  min-height: 100vh;
  background: linear-gradient(135deg, #0a0015 0%, #1a0030 30%, #2d1b4e 60%, #1a0030 100%);
  font-family: 'Poppins', sans-serif;
  overflow-x: hidden;
  color: #fff;
}

.bg-hearts {
  position: fixed; top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none; z-index: 0; overflow: hidden;
}
.bg-heart {
  position: absolute; font-size: 20px; opacity: 0.15;
  animation: floatUp linear infinite;
}
@keyframes floatUp {
  0% { transform: translateY(110vh) rotate(0deg) scale(1); opacity: 0; }
  10% { opacity: 0.15; } 90% { opacity: 0.15; }
  100% { transform: translateY(-10vh) rotate(360deg) scale(0.5); opacity: 0; }
}

.screen {
  display: none; flex-direction: column; align-items: center;
  justify-content: center; min-height: 100vh; padding: 20px;
  position: relative; z-index: 1;
}
.screen.active { display: flex; }

/* Intro */
#intro { text-align: center; }
.gift-box {
  font-size: 120px; cursor: pointer;
  animation: giftBounce 1s ease-in-out infinite;
  transition: transform 0.3s; user-select: none;
  filter: drop-shadow(0 0 30px rgba(255,100,150,0.5));
}
.gift-box:hover { transform: scale(1.15); }
.gift-box:active { transform: scale(0.95); }
@keyframes giftBounce {
  0%,100% { transform: translateY(0); } 50% { transform: translateY(-15px); }
}
.intro-text {
  font-family: 'Dancing Script', cursive; font-size: 2.5em; margin-top: 30px;
  background: linear-gradient(90deg, #ff6b9d, #ffa8cc, #ff6b9d);
  background-size: 200%; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  animation: shimmer 3s ease-in-out infinite;
}
@keyframes shimmer { 0%,100% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } }
.tap-hint { margin-top: 20px; font-size: 0.9em; opacity: 0.5; animation: pulse 2s ease-in-out infinite; }
@keyframes pulse { 0%,100% { opacity: 0.3; } 50% { opacity: 0.7; } }

/* Message */
#message { text-align: center; }
.love-letter {
  max-width: 500px; background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px); border: 1px solid rgba(255,100,150,0.2);
  border-radius: 20px; padding: 40px 30px; animation: fadeInUp 1s ease;
}
.love-letter h2 { font-family: 'Dancing Script', cursive; font-size: 2.2em; color: #ff6b9d; margin-bottom: 20px; }
.love-letter p { font-size: 1.05em; line-height: 1.8; opacity: 0.9; margin-bottom: 15px; }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }

.btn {
  margin-top: 25px; padding: 15px 40px; border: none; border-radius: 50px;
  font-family: 'Poppins', sans-serif; font-size: 1.1em; font-weight: 600;
  cursor: pointer; transition: all 0.3s;
  background: linear-gradient(135deg, #ff6b9d, #c44dff); color: white;
  box-shadow: 0 5px 25px rgba(255,107,157,0.4);
}
.btn:hover { transform: translateY(-3px); box-shadow: 0 8px 35px rgba(255,107,157,0.6); }
.btn:active { transform: translateY(0); }
.btn-small {
  padding: 12px 30px; font-size: 0.95em; margin: 8px;
}

/* Game picker */
#gamePicker { text-align: center; }
.game-options { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 20px; max-width: 500px; }
.game-card {
  background: rgba(255,255,255,0.06); backdrop-filter: blur(15px);
  border: 2px solid rgba(255,100,150,0.25); border-radius: 20px;
  padding: 25px 20px; width: 150px; cursor: pointer; transition: all 0.3s;
  text-align: center;
}
.game-card:hover { border-color: #ff6b9d; transform: translateY(-5px); background: rgba(255,100,150,0.1); }
.game-card .game-icon { font-size: 50px; margin-bottom: 10px; }
.game-card .game-name { font-size: 0.95em; font-weight: 600; }

/* Shared game header */
.game-header { margin-bottom: 15px; text-align: center; }
.game-header h2 { font-family: 'Dancing Script', cursive; font-size: 2em; color: #ff6b9d; }
.game-stats {
  display: flex; gap: 20px; justify-content: center; margin: 15px 0; font-size: 1.1em;
}
.game-stats span { background: rgba(255,255,255,0.1); padding: 8px 18px; border-radius: 20px; }

/* ====== GAME 1: Memory ====== */
#game1 { text-align: center; }
.game-board {
  display: grid; grid-template-columns: repeat(4,1fr); gap: 10px;
  max-width: 400px; margin: 0 auto; padding: 10px;
}
.card {
  aspect-ratio: 1; background: linear-gradient(135deg,#2d1b4e,#4a2d6e);
  border: 2px solid rgba(255,100,150,0.3); border-radius: 15px;
  display: flex; align-items: center; justify-content: center;
  font-size: 2em; cursor: pointer; transition: all 0.4s;
  user-select: none; -webkit-tap-highlight-color: transparent;
}
.card:hover { border-color: rgba(255,100,150,0.6); transform: scale(1.03); }
.card.flipped { background: linear-gradient(135deg,#ff6b9d,#c44dff); transform: rotateY(180deg); border-color: #ff6b9d; }
.card.matched { background: linear-gradient(135deg,#4ade80,#22d3ee); border-color: #4ade80; animation: matchPop 0.5s ease; }
@keyframes matchPop { 50% { transform: scale(1.15); } }
.card .card-back { display: block; } .card .card-front { display: none; }
.card.flipped .card-back, .card.matched .card-back { display: none; }
.card.flipped .card-front, .card.matched .card-front { display: block; }

/* ====== GAME 2: Catch Hearts ====== */
#game2 { text-align: center; }
.catch-area {
  position: relative; width: 100%; max-width: 400px; height: 500px;
  background: rgba(255,255,255,0.03); border: 2px solid rgba(255,100,150,0.2);
  border-radius: 20px; overflow: hidden; touch-action: none;
  margin: 0 auto;
}
.basket {
  position: absolute; bottom: 10px; width: 70px; height: 45px;
  font-size: 40px; text-align: center; line-height: 45px;
  transition: left 0.05s linear; user-select: none;
}
.falling-item {
  position: absolute; font-size: 30px; transition: none;
  user-select: none; pointer-events: none;
}
.catch-score-bar {
  display: flex; justify-content: space-between; align-items: center;
  max-width: 400px; width: 100%; margin-bottom: 10px;
}
.catch-lives { font-size: 1.3em; }
.progress-bar {
  width: 200px; height: 12px; background: rgba(255,255,255,0.1);
  border-radius: 10px; overflow: hidden;
}
.progress-fill {
  height: 100%; background: linear-gradient(90deg, #ff6b9d, #ffd700);
  border-radius: 10px; transition: width 0.3s;
}

/* ====== GAME 3: Love Quiz ====== */
#game3 { text-align: center; }
.quiz-box {
  max-width: 450px; width: 100%; background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px); border: 1px solid rgba(255,100,150,0.2);
  border-radius: 20px; padding: 30px 25px;
}
.quiz-question {
  font-size: 1.2em; margin-bottom: 25px; line-height: 1.6;
  font-family: 'Dancing Script', cursive; font-size: 1.6em;
}
.quiz-options { display: flex; flex-direction: column; gap: 12px; }
.quiz-opt {
  padding: 15px 20px; border: 2px solid rgba(255,100,150,0.3);
  border-radius: 15px; background: rgba(255,255,255,0.05);
  cursor: pointer; transition: all 0.3s; font-family: 'Poppins', sans-serif;
  font-size: 1em; color: #fff; text-align: left;
}
.quiz-opt:hover { border-color: #ff6b9d; background: rgba(255,100,150,0.1); }
.quiz-opt.correct { border-color: #4ade80; background: rgba(74,222,128,0.2); }
.quiz-opt.wrong { border-color: #f87171; background: rgba(248,113,113,0.2); }
.quiz-progress { margin-top: 20px; opacity: 0.5; }

/* Win screen */
#win { text-align: center; }
.win-content { animation: fadeInUp 1s ease; }
.prize-bear {
  font-size: 150px; animation: bearBounce 2s ease-in-out infinite;
  filter: drop-shadow(0 0 40px rgba(255,200,100,0.5));
}
@keyframes bearBounce { 0%,100% { transform: translateY(0) rotate(-5deg); } 50% { transform: translateY(-20px) rotate(5deg); } }
.win-text {
  font-family: 'Dancing Script', cursive; font-size: 3em; margin: 30px 0;
  background: linear-gradient(90deg,#ff6b9d,#ffd700,#ff6b9d);
  background-size: 200%; -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  animation: shimmer 2s ease-in-out infinite;
}
.win-sub { font-size: 1.2em; opacity: 0.8; margin-bottom: 10px; }
.prize-card {
  background: rgba(255,255,255,0.08); backdrop-filter: blur(20px);
  border: 2px solid rgba(255,215,0,0.4); border-radius: 20px;
  padding: 30px; margin: 25px auto; max-width: 350px;
  animation: glowPulse 2s ease-in-out infinite;
}
@keyframes glowPulse { 0%,100% { box-shadow: 0 0 20px rgba(255,215,0,0.2); } 50% { box-shadow: 0 0 40px rgba(255,215,0,0.4); } }
.prize-card h3 { font-size: 1.5em; color: #ffd700; margin-bottom: 10px; }
.prize-card p { opacity: 0.8; line-height: 1.6; }

.heart-rain {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  pointer-events: none; z-index: 999; overflow: hidden;
}
.rain-heart {
  position: absolute; top: -50px;
  animation: rainFall linear forwards; font-size: 30px;
}
@keyframes rainFall {
  0% { transform: translateY(-50px) rotate(0deg); opacity: 1; }
  100% { transform: translateY(110vh) rotate(720deg); opacity: 0.3; }
}

.sparkle {
  position: fixed; pointer-events: none; z-index: 1000;
  font-size: 16px; animation: sparkleFade 1s ease forwards;
}
@keyframes sparkleFade {
  0% { transform: scale(0) rotate(0deg); opacity: 1; }
  50% { transform: scale(1.5) rotate(180deg); opacity: 1; }
  100% { transform: scale(0) rotate(360deg); opacity: 0; }
}

.back-btn {
  position: absolute; top: 20px; left: 20px; background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 8px 16px;
  border-radius: 20px; cursor: pointer; font-family: 'Poppins'; font-size: 0.85em;
  z-index: 10; transition: all 0.3s;
}
.back-btn:hover { background: rgba(255,255,255,0.2); }

@media (max-width: 500px) {
  .gift-box { font-size: 90px; }
  .intro-text { font-size: 1.8em; }
  .love-letter { padding: 25px 20px; }
  .love-letter h2 { font-size: 1.8em; }
  .game-board { gap: 8px; max-width: 320px; }
  .card { font-size: 1.5em; border-radius: 10px; }
  .prize-bear { font-size: 100px; }
  .win-text { font-size: 2.2em; }
  .game-card { width: 130px; padding: 20px 15px; }
  .catch-area { height: 400px; }
}
</style>
</head>
<body>

<div class="bg-hearts" id="bgHearts"></div>

<!-- INTRO -->
<div class="screen active" id="intro">
  <div class="gift-box" onclick="openGift()">ğŸ</div>
  <div class="intro-text">I have something for you...</div>
  <div class="tap-hint">tap the gift âœ¨</div>
</div>

<!-- MESSAGE -->
<div class="screen" id="message">
  <div class="love-letter">
    <h2>Hey you ğŸ’•</h2>
    <p>I know I messed up. And I know sorry doesn't always feel like enough.</p>
    <p>But I need you to know â€” you're my favorite person in this whole world. Even when things get messy, even when I'm being dumb, that never changes.</p>
    <p>So I made you these little games. Win them all and there's a surprise waiting ğŸ€</p>
    <button class="btn" onclick="showScreen('gamePicker')">Let's play ğŸ’</button>
  </div>
</div>

<!-- GAME PICKER -->
<div class="screen" id="gamePicker">
  <h2 style="font-family:'Dancing Script',cursive; font-size:2.2em; color:#ff6b9d; margin-bottom:10px;">Pick a game ğŸ®</h2>
  <p style="opacity:0.6; margin-bottom:10px;">Win all 3 to unlock your surprise!</p>
  <div class="game-stats">
    <span>â­ <span id="gamesWon">0</span>/3 completed</span>
  </div>
  <div class="game-options">
    <div class="game-card" id="pick1" onclick="launchGame(1)">
      <div class="game-icon">ğŸƒ</div>
      <div class="game-name">Memory Match</div>
    </div>
    <div class="game-card" id="pick2" onclick="launchGame(2)">
      <div class="game-icon">ğŸ’˜</div>
      <div class="game-name">Catch Hearts</div>
    </div>
    <div class="game-card" id="pick3" onclick="launchGame(3)">
      <div class="game-icon">ğŸ’Œ</div>
      <div class="game-name">Love Quiz</div>
    </div>
  </div>
</div>

<!-- GAME 1: Memory -->
<div class="screen" id="game1">
  <button class="back-btn" onclick="showScreen('gamePicker')">â† Back</button>
  <div class="game-header">
    <h2>Match the Hearts ğŸ’˜</h2>
    <p style="opacity:0.6; margin-top:5px;">Find all the pairs!</p>
  </div>
  <div class="game-stats">
    <span>ğŸ’• <span id="moves">0</span> moves</span>
    <span>â­ <span id="pairs">0</span>/8</span>
  </div>
  <div class="game-board" id="gameBoard"></div>
</div>

<!-- GAME 2: Catch Hearts -->
<div class="screen" id="game2">
  <button class="back-btn" onclick="endCatchGame(); showScreen('gamePicker')">â† Back</button>
  <div class="game-header">
    <h2>Catch the Hearts! ğŸ’˜</h2>
    <p style="opacity:0.6; margin-top:5px;">Swipe or move to catch 20 hearts!</p>
  </div>
  <div class="catch-score-bar">
    <div class="catch-lives" id="catchLives">â¤ï¸â¤ï¸â¤ï¸</div>
    <div class="progress-bar"><div class="progress-fill" id="catchProgress" style="width:0%"></div></div>
    <span id="catchCount" style="font-weight:600;">0/20</span>
  </div>
  <div class="catch-area" id="catchArea">
    <div class="basket" id="basket">ğŸ§º</div>
  </div>
</div>

<!-- GAME 3: Love Quiz -->
<div class="screen" id="game3">
  <button class="back-btn" onclick="showScreen('gamePicker')">â† Back</button>
  <div class="game-header">
    <h2>Love Quiz ğŸ’Œ</h2>
  </div>
  <div class="quiz-box" id="quizBox">
    <div class="quiz-question" id="quizQ"></div>
    <div class="quiz-options" id="quizOpts"></div>
    <div class="quiz-progress" id="quizProg"></div>
  </div>
</div>

<!-- WIN -->
<div class="screen" id="win">
  <div class="win-content">
    <div class="prize-bear">ğŸ§¸</div>
    <div class="win-text">I love you beb! ğŸ’•</div>
    <div class="win-sub">You did it! All 3 games! Here's your prize:</div>
    <div class="prize-card">
      <h3>ğŸ€ Official Prize Certificate ğŸ€</h3>
      <p>One teddy bear, unlimited hugs, and a boyfriend who promises to do better ğŸ’›</p>
      <p style="margin-top:15px; font-size:0.9em; opacity:0.6;">Redeemable immediately. No expiry date. Ever.</p>
    </div>
    <button class="btn" style="margin-top:20px;" onclick="resetAll()">Play Again ğŸ’•</button>
  </div>
</div>

<div class="heart-rain" id="heartRain"></div>

<script>
// ========== GLOBAL ==========
let wins = { 1: false, 2: false, 3: false };

function createBgHearts() {
  const c = document.getElementById('bgHearts');
  const h = ['ğŸ’•','ğŸ’–','ğŸ’—','ğŸ’“','ğŸ’','ğŸ’˜','â™¥','âœ¨','ğŸŒ¸'];
  for (let i = 0; i < 25; i++) {
    const d = document.createElement('div');
    d.className = 'bg-heart';
    d.textContent = h[Math.floor(Math.random()*h.length)];
    d.style.left = Math.random()*100+'%';
    d.style.fontSize = (15+Math.random()*20)+'px';
    d.style.animationDuration = (8+Math.random()*12)+'s';
    d.style.animationDelay = Math.random()*10+'s';
    c.appendChild(d);
  }
}
createBgHearts();

document.addEventListener('click', (e) => {
  const sp = ['âœ¨','ğŸ’–','â­','ğŸ’•','ğŸŒŸ'];
  for (let i = 0; i < 3; i++) {
    const s = document.createElement('div');
    s.className = 'sparkle';
    s.textContent = sp[Math.floor(Math.random()*sp.length)];
    s.style.left = (e.clientX+(Math.random()-0.5)*60)+'px';
    s.style.top = (e.clientY+(Math.random()-0.5)*60)+'px';
    document.body.appendChild(s);
    setTimeout(() => s.remove(), 1000);
  }
});

function showScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function openGift() {
  const g = document.querySelector('.gift-box');
  g.style.animation = 'none'; g.style.transition = 'all 0.5s';
  g.style.transform = 'scale(1.5) rotate(20deg)'; g.style.opacity = '0';
  setTimeout(() => showScreen('message'), 600);
}

function updatePickerState() {
  let count = Object.values(wins).filter(Boolean).length;
  document.getElementById('gamesWon').textContent = count;
  [1,2,3].forEach(i => {
    const el = document.getElementById('pick'+i);
    if (wins[i]) {
      el.style.borderColor = '#4ade80';
      el.style.background = 'rgba(74,222,128,0.1)';
      el.querySelector('.game-name').textContent += wins[i] === 'done' ? '' : '';
      if (!el.dataset.done) { el.dataset.done = '1'; el.querySelector('.game-icon').textContent = 'âœ…'; }
    }
  });
}

function gameWon(n) {
  wins[n] = true;
  updatePickerState();
  let count = Object.values(wins).filter(Boolean).length;
  if (count === 3) {
    setTimeout(() => { showScreen('win'); rainHearts(); }, 800);
  } else {
    setTimeout(() => showScreen('gamePicker'), 1200);
  }
}

function launchGame(n) {
  if (wins[n]) return;
  showScreen('game'+n);
  if (n === 1) initMemory();
  if (n === 2) initCatch();
  if (n === 3) initQuiz();
}

function rainHearts() {
  const c = document.getElementById('heartRain'); c.innerHTML = '';
  const h = ['ğŸ’•','ğŸ’–','ğŸ’—','ğŸ’“','ğŸ’','ğŸ’˜','â¤ï¸','ğŸŒ¹','âœ¨','ğŸ€','ğŸ’Œ'];
  for (let i = 0; i < 60; i++) {
    setTimeout(() => {
      const d = document.createElement('div');
      d.className = 'rain-heart';
      d.textContent = h[Math.floor(Math.random()*h.length)];
      d.style.left = Math.random()*100+'%';
      d.style.fontSize = (20+Math.random()*30)+'px';
      d.style.animationDuration = (2+Math.random()*3)+'s';
      c.appendChild(d);
      setTimeout(() => d.remove(), 5000);
    }, i*80);
  }
}

function resetAll() {
  wins = {1:false,2:false,3:false};
  document.getElementById('heartRain').innerHTML = '';
  [1,2,3].forEach(i => {
    const el = document.getElementById('pick'+i);
    el.style.borderColor = ''; el.style.background = ''; el.dataset.done = '';
  });
  document.querySelector('#pick1 .game-icon').textContent = 'ğŸƒ';
  document.querySelector('#pick2 .game-icon').textContent = 'ğŸ’˜';
  document.querySelector('#pick3 .game-icon').textContent = 'ğŸ’Œ';
  showScreen('gamePicker');
}

// ========== GAME 1: MEMORY ==========
const emojis = ['ğŸ’•','ğŸ’–','ğŸ’—','ğŸ’“','ğŸ’˜','ğŸ’','ğŸŒ¹','ğŸ’Œ'];
let memCards=[], memFlipped=[], memMatched=0, memMoves=0, memLocked=false;

function initMemory() {
  memMatched=0; memMoves=0; memFlipped=[]; memLocked=false;
  document.getElementById('moves').textContent='0';
  document.getElementById('pairs').textContent='0';
  const deck=[...emojis,...emojis];
  for(let i=deck.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[deck[i],deck[j]]=[deck[j],deck[i]];}
  const board=document.getElementById('gameBoard'); board.innerHTML=''; memCards=[];
  deck.forEach((e,i) => {
    const c=document.createElement('div'); c.className='card';
    c.innerHTML=`<span class="card-back">ğŸ’œ</span><span class="card-front">${e}</span>`;
    c.dataset.emoji=e; c.dataset.index=i;
    c.addEventListener('click',()=>flipCard(c));
    board.appendChild(c); memCards.push(c);
  });
}

function flipCard(card) {
  if(memLocked||card.classList.contains('flipped')||card.classList.contains('matched'))return;
  if(memFlipped.length>=2)return;
  card.classList.add('flipped'); memFlipped.push(card);
  if(memFlipped.length===2){
    memMoves++; document.getElementById('moves').textContent=memMoves; memLocked=true;
    if(memFlipped[0].dataset.emoji===memFlipped[1].dataset.emoji){
      setTimeout(()=>{
        memFlipped[0].classList.add('matched'); memFlipped[1].classList.add('matched');
        memMatched++; document.getElementById('pairs').textContent=memMatched;
        memFlipped=[]; memLocked=false;
        if(memMatched===8) gameWon(1);
      },500);
    } else {
      setTimeout(()=>{
        memFlipped[0].classList.remove('flipped'); memFlipped[1].classList.remove('flipped');
        memFlipped=[]; memLocked=false;
      },900);
    }
  }
}

// ========== GAME 2: CATCH HEARTS ==========
let catchInterval, catchAnimFrame, catchLives, catchCount, catchActive=false;
let basketX = 0;

function initCatch() {
  catchLives=3; catchCount=0; catchActive=true;
  document.getElementById('catchLives').textContent='â¤ï¸â¤ï¸â¤ï¸';
  document.getElementById('catchCount').textContent='0/20';
  document.getElementById('catchProgress').style.width='0%';
  const area=document.getElementById('catchArea');
  // Clear old items
  area.querySelectorAll('.falling-item').forEach(e=>e.remove());
  const basket=document.getElementById('basket');
  basketX = area.offsetWidth/2 - 35;
  basket.style.left = basketX+'px';

  // Touch/mouse controls
  area.onmousemove = (e) => { if(!catchActive) return; moveBasket(e.clientX, area); };
  area.ontouchmove = (e) => { if(!catchActive) return; e.preventDefault(); moveBasket(e.touches[0].clientX, area); };

  // Spawn items
  if(catchInterval) clearInterval(catchInterval);
  catchInterval = setInterval(() => { if(catchActive) spawnItem(area); }, 700);
}

function moveBasket(clientX, area) {
  const rect = area.getBoundingClientRect();
  let x = clientX - rect.left - 35;
  x = Math.max(0, Math.min(x, area.offsetWidth-70));
  document.getElementById('basket').style.left = x+'px';
}

function spawnItem(area) {
  const isGood = Math.random() > 0.25;
  const goods = ['ğŸ’•','ğŸ’–','ğŸ’—','ğŸ’','ğŸ’˜','â¤ï¸','ğŸŒ¹'];
  const bads = ['ğŸ’”','ğŸ–¤','ğŸ‘»'];
  const item = document.createElement('div');
  item.className = 'falling-item';
  item.textContent = isGood ? goods[Math.floor(Math.random()*goods.length)] : bads[Math.floor(Math.random()*bads.length)];
  item.dataset.good = isGood ? '1' : '0';
  item.style.left = (Math.random()*(area.offsetWidth-40))+'px';
  item.style.top = '-40px';
  area.appendChild(item);

  let y = -40;
  const speed = 2 + Math.random()*2;
  function fall() {
    if(!catchActive) { item.remove(); return; }
    y += speed;
    item.style.top = y+'px';

    // Check catch
    const basket = document.getElementById('basket');
    const bx = parseFloat(basket.style.left);
    const ix = parseFloat(item.style.left);
    if(y > area.offsetHeight - 60 && y < area.offsetHeight - 20 && Math.abs(ix - bx) < 55) {
      item.remove();
      if(item.dataset.good === '1') {
        catchCount++;
        document.getElementById('catchCount').textContent = catchCount+'/20';
        document.getElementById('catchProgress').style.width = (catchCount/20*100)+'%';
        if(catchCount >= 20) { endCatchGame(); gameWon(2); }
      } else {
        catchLives--;
        updateCatchLives();
        if(catchLives <= 0) { endCatchGame(); initCatch(); }
      }
      return;
    }
    // Missed
    if(y > area.offsetHeight) {
      item.remove();
      if(item.dataset.good === '1') {
        catchLives--;
        updateCatchLives();
        if(catchLives <= 0) { endCatchGame(); initCatch(); }
      }
      return;
    }
    requestAnimationFrame(fall);
  }
  requestAnimationFrame(fall);
}

function updateCatchLives() {
  document.getElementById('catchLives').textContent = 'â¤ï¸'.repeat(Math.max(0,catchLives)) + 'ğŸ¤'.repeat(Math.max(0,3-catchLives));
}

function endCatchGame() {
  catchActive = false;
  if(catchInterval) clearInterval(catchInterval);
  const area = document.getElementById('catchArea');
  area.querySelectorAll('.falling-item').forEach(e=>e.remove());
}

// ========== GAME 3: LOVE QUIZ ==========
const quizData = [
  { q: "What's the best way to say sorry?", opts: ["Text 'my bad' ğŸ’€","Buy flowers and say it in person ğŸ’","Blame the dog ğŸ•","Build her a whole website ğŸ”¥"], correct: 3 },
  { q: "When she says 'I'm fine', she means...", opts: ["She's totally fine âœ…","She is NOT fine, go fix it NOW ğŸš¨","Time to play video games ğŸ®","Ask again in 3 hours â°"], correct: 1 },
  { q: "The best gift for your girl is...", opts: ["Gift card ğŸ’³","Your time and attention ğŸ’•","A meme ğŸ˜‚","Literally anything from Shein ğŸ“¦"], correct: 1 },
  { q: "How do you win an argument?", opts: ["Raise your voice louder ğŸ“¢","Present a PowerPoint ğŸ“Š","You don't â€” you hug her ğŸ¤—","Google 'how to win argument with gf'"], correct: 2 },
  { q: "What makes a relationship last?", opts: ["Being right all the time ğŸ†","Trust, patience & effort ğŸ’›","Matching outfits ğŸ‘«","Having the Wi-Fi password ğŸ“¶"], correct: 1 },
];
let quizIdx=0, quizScore=0;

function initQuiz() {
  quizIdx=0; quizScore=0;
  showQuizQuestion();
}

function showQuizQuestion() {
  if(quizIdx >= quizData.length) {
    if(quizScore >= 4) { gameWon(3); }
    else { quizIdx=0; quizScore=0; showQuizQuestion(); }
    return;
  }
  const q = quizData[quizIdx];
  document.getElementById('quizQ').textContent = q.q;
  document.getElementById('quizProg').textContent = `Question ${quizIdx+1}/${quizData.length} â€¢ Score: ${quizScore}`;
  const opts = document.getElementById('quizOpts'); opts.innerHTML = '';
  q.opts.forEach((o, i) => {
    const btn = document.createElement('button');
    btn.className = 'quiz-opt';
    btn.textContent = o;
    btn.onclick = () => answerQuiz(i, q.correct, btn);
    opts.appendChild(btn);
  });
}

function answerQuiz(picked, correct, btn) {
  const opts = document.querySelectorAll('.quiz-opt');
  opts.forEach((o,i) => {
    o.style.pointerEvents = 'none';
    if(i === correct) o.classList.add('correct');
    if(i === picked && picked !== correct) o.classList.add('wrong');
  });
  if(picked === correct) quizScore++;
  setTimeout(() => { quizIdx++; showQuizQuestion(); }, 1200);
}
</script>
</body>
</html>
